{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{tTpj:function(t,n,r){\"use strict\";r.r(n),r.d(n,\"CarrinhoModule\",(function(){return I}));var o=r(\"ofXK\"),e=r(\"nLfN\"),i=r(\"fXoL\");r(\"8LU1\"),r(\"EY2u\"),r(\"XNiG\"),r(\"xgIS\"),r(\"3UWI\"),r(\"1G5W\");let c=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},imports:[[e.b]]}),t})();r(\"cp0P\"),r(\"Cfvw\"),r(\"lJxs\");let a=(()=>{class t{constructor(){this._accessors=[]}add(t,n){this._accessors.push([t,n])}remove(t){for(let n=this._accessors.length-1;n>=0;--n)if(this._accessors[n][1]===t)return void this._accessors.splice(n,1)}select(t){this._accessors.forEach(n=>{this._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}_isSameGroup(t,n){return!!t[0].control&&t[0]._parent===n._control._parent&&t[1].name===n.name}}return t.\\u0275fac=function(n){return new(n||t)},t.\\u0275prov=i.Fb({token:t,factory:t.\\u0275fac}),t})(),s=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)}}),t})(),l=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},providers:[a],imports:[s]}),t})();var d=r(\"FKr1\"),u=r(\"GU7r\");r(\"cH1L\"),r(\"VRyK\"),r(\"JX91\"),r(\"IzEk\"),r(\"R0Ic\"),r(\"R1ws\");let m=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},imports:[[o.b,d.c,u.c],d.c]}),t})(),b=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},providers:[d.a],imports:[[c,m],c,m]}),t})();var p=r(\"NFeN\"),h=r(\"bTqV\");r(\"u47x\"),r(\"0EQZ\"),r(\"FtGj\");let g=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},imports:[[d.c],d.c]}),t})(),v=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},imports:[[d.e,d.i,d.c,d.g,o.b],d.e,d.c,d.g,g]}),t})();var f=r(\"Wp6s\"),O=r(\"dNgK\"),y=r(\"tyNb\"),x=r(\"mrSG\"),k=r(\"eiZ/\");let w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\\u0275fac=function(n){return new(n||t)},t.\\u0275cmp=i.Db({type:t,selectors:[[\"painel-mensagem\"]],inputs:{texto:\"texto\",textoLink:\"textoLink\",link:\"link\"},decls:5,vars:3,consts:[[1,\"painel-mensagem\"],[1,\"mensagem\"],[\"mat-flat-button\",\"\",\"color\",\"accent\",3,\"routerLink\"]],template:function(t,n){1&t&&(i.Ob(0,\"div\",0),i.Ob(1,\"h3\",1),i.oc(2),i.Nb(),i.Ob(3,\"button\",2),i.oc(4),i.Nb(),i.Nb()),2&t&&(i.zb(2),i.pc(n.texto),i.zb(1),i.bc(\"routerLink\",n.link),i.zb(1),i.qc(\" \",n.textoLink,\" \"))},directives:[h.a,y.c],styles:[\".painel-mensagem[_ngcontent-%COMP%]{display:grid;grid-template-columns:1;justify-items:center;align-items:center;align-content:center;top:0;bottom:0;height:calc(100% - 64px)}\"]}),t})();function _(t,n){if(1&t){const t=i.Pb();i.Ob(0,\"div\",10),i.Ob(1,\"div\",11),i.Ob(2,\"button\",12),i.Ub(\"click\",(function(){i.fc(t);const r=n.$implicit;return i.Wb(2).adicionarQuantidade(r,-1)})),i.Ob(3,\"mat-icon\"),i.oc(4,\"remove\"),i.Nb(),i.Nb(),i.Ob(5,\"div\",13),i.oc(6),i.Nb(),i.Ob(7,\"button\",14),i.Ub(\"click\",(function(){i.fc(t);const r=n.$implicit;return i.Wb(2).adicionarQuantidade(r,1)})),i.Ob(8,\"mat-icon\"),i.oc(9,\"add\"),i.Nb(),i.Nb(),i.Nb(),i.Ob(10,\"div\",15),i.oc(11),i.Nb(),i.Ob(12,\"div\",16),i.Ob(13,\"button\",17),i.Ub(\"click\",(function(){i.fc(t);const r=n.$implicit;return i.Wb(2).removerItem(r)})),i.Ob(14,\"mat-icon\"),i.oc(15,\"close\"),i.Nb(),i.Nb(),i.Nb(),i.Nb()}if(2&t){const t=n.$implicit;i.zb(6),i.pc(t.quantidade),i.zb(5),i.pc((null==t||null==t.produto?null:t.produto.nome)||\"Nome indispon\\xedvel\")}}function N(t,n){if(1&t){const t=i.Pb();i.Ob(0,\"div\",3),i.Ob(1,\"div\",4),i.Ob(2,\"div\",5),i.Ob(3,\"button\",6),i.Ub(\"click\",(function(){return i.fc(t),i.Wb().voltar()})),i.Ob(4,\"mat-icon\"),i.oc(5,\"arrow_backward\"),i.Nb(),i.oc(6,\" Voltar \"),i.Nb(),i.Nb(),i.Ob(7,\"mat-card\"),i.Ob(8,\"div\",7),i.nc(9,_,16,2,\"div\",8),i.Nb(),i.Nb(),i.Ob(10,\"div\",5),i.Ob(11,\"button\",9),i.Ub(\"click\",(function(){return i.fc(t),i.Wb().comprar()})),i.Ob(12,\"mat-icon\"),i.oc(13,\"shopping_cart\"),i.Nb(),i.oc(14,\" Concluir a compra \"),i.Nb(),i.Nb(),i.Nb(),i.Nb()}if(2&t){const t=i.Wb();i.zb(9),i.bc(\"ngForOf\",t.carrinhoService.carrinho.itens),i.zb(2),i.bc(\"disabled\",!(null!=t.carrinhoService.carrinho&&null!=t.carrinhoService.carrinho.itens&&t.carrinhoService.carrinho.itens.length))}}const C=function(){return[\"/produtos\"]};function M(t,n){if(1&t&&i.Kb(0,\"painel-mensagem\",18),2&t){const t=i.Wb();i.bc(\"texto\",null!=t.carrinhoService.carrinho&&null!=t.carrinhoService.carrinho.itens&&t.carrinhoService.carrinho.itens.length?t.erro:\"O carrinho n\\xe3o possui \\xedtens.\")(\"link\",i.cc(2,C))}}function P(t,n){1&t&&i.Kb(0,\"painel-mensagem\",19),2&t&&i.bc(\"link\",i.cc(1,C))}const j=[{path:\"\",component:(()=>{class t{constructor(t,n,r){this.snackBar=t,this.location=n,this.carrinhoService=r,this.carregando=!1,this.concluido=!1}ngOnInit(){this.buscarCarrinho()}buscarCarrinho(){var t;return Object(x.a)(this,void 0,void 0,(function*(){this.carregando=!0;try{yield this.carrinhoService.getCarrinho()}catch(n){this.mostrarMensagem((null===(t=null==n?void 0:n.error)||void 0===t?void 0:t.message)||\"Falha ao buscar carrinho.\")}this.carregando=!1}))}adicionarQuantidade(t,n){var r,o;return Object(x.a)(this,void 0,void 0,(function*(){try{yield this.carrinhoService.adicionarProduto(null===(r=null==t?void 0:t.produto)||void 0===r?void 0:r.id,n)}catch(e){this.mostrarMensagem((null===(o=null==e?void 0:e.error)||void 0===o?void 0:o.message)||\"Falha ao mudar quantidade.\")}}))}esvaziarCarrinho(){var t;return Object(x.a)(this,void 0,void 0,(function*(){this.carregando=!0;try{yield this.carrinhoService.esvaziar()}catch(n){this.mostrarMensagem((null===(t=null==n?void 0:n.error)||void 0===t?void 0:t.message)||\"Falha ao esvaziar carrinho.\")}this.carregando=!1}))}removerItem(t){var n;return Object(x.a)(this,void 0,void 0,(function*(){this.carregando=!0;try{yield this.carrinhoService.deletarItem(t.produto.id)}catch(r){this.mostrarMensagem((null===(n=null==r?void 0:r.error)||void 0===n?void 0:n.message)||\"Falha ao remover item.\")}this.carregando=!1}))}comprar(){var t,n;return Object(x.a)(this,void 0,void 0,(function*(){this.carregando=!0;try{yield this.carrinhoService.comprar(),this.concluido=!0}catch(r){this.erro=null===(t=null==r?void 0:r.error)||void 0===t?void 0:t.message,this.mostrarMensagem((null===(n=null==r?void 0:r.error)||void 0===n?void 0:n.message)||\"Falha ao concluir compra.\")}this.carregando=!1}))}voltar(){this.location.back()}mostrarMensagem(t){this.snackBar.open(t,\"Ok\",{duration:5e3})}}return t.\\u0275fac=function(n){return new(n||t)(i.Jb(O.a),i.Jb(o.f),i.Jb(k.a))},t.\\u0275cmp=i.Db({type:t,selectors:[[\"app-carrinho\"]],decls:3,vars:3,consts:[[\"margin\",\"\",\"class\",\"container\",4,\"ngIf\"],[\"textoLink\",\"Voltar para a loja\",3,\"texto\",\"link\",4,\"ngIf\"],[\"texto\",\"Compra efetuada com sucesso.\",\"textoLink\",\"Voltar para a loja\",3,\"link\",4,\"ngIf\"],[\"margin\",\"\",1,\"container\"],[1,\"content-wrapper\"],[\"margin-v\",\"\"],[\"mat-button\",\"\",\"fill-width\",\"\",3,\"click\"],[1,\"lista\"],[\"class\",\"item-carrinho\",4,\"ngFor\",\"ngForOf\"],[\"mat-flat-button\",\"\",\"fill-w\",\"\",\"color\",\"accent\",3,\"disabled\",\"click\"],[1,\"item-carrinho\"],[1,\"quantidade-produto\"],[\"text\",\"Remover uma unidade do produto\",\"mat-icon-button\",\"\",1,\"botao-item\",\"botao-remover\",3,\"click\"],[\"text\",\"Quantidade\",1,\"rotulo-quantidade-produto\"],[\"text\",\"Adicionar uma unidade do produto\",\"mat-icon-button\",\"\",1,\"botao-item\",\"botao-aumentar\",3,\"click\"],[\"text\",\"Nome do produto\",1,\"nome-produto\"],[1,\"remover-produto\"],[\"text\",\"Remover item do carrinho\",\"mat-icon-button\",\"\",1,\"botao-item\",\"botao-remover\",3,\"click\"],[\"textoLink\",\"Voltar para a loja\",3,\"texto\",\"link\"],[\"texto\",\"Compra efetuada com sucesso.\",\"textoLink\",\"Voltar para a loja\",3,\"link\"]],template:function(t,n){1&t&&(i.nc(0,N,15,2,\"div\",0),i.nc(1,M,1,3,\"painel-mensagem\",1),i.nc(2,P,1,2,\"painel-mensagem\",2)),2&t&&(i.bc(\"ngIf\",!n.erro&&!n.carregando&&(null==n.carrinhoService.carrinho||null==n.carrinhoService.carrinho.itens?null:n.carrinhoService.carrinho.itens.length)&&!n.concluido),i.zb(1),i.bc(\"ngIf\",!n.concluido&&!n.carregando&&(n.erro||!(null!=n.carrinhoService.carrinho&&null!=n.carrinhoService.carrinho.itens&&n.carrinhoService.carrinho.itens.length))),i.zb(1),i.bc(\"ngIf\",n.concluido&&!n.erro&&!n.carregando))},directives:[o.i,h.a,p.a,f.a,o.h,w],styles:[\".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}@media only screen and (min-width:800px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr 4fr 1fr}.container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{grid-column:2}}@media only screen and (min-width:1200px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr 3fr 1fr}.container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{grid-column:2}}.painel-mensagem[_ngcontent-%COMP%]{display:grid;grid-template-columns:1;justify-items:center;align-items:center;align-content:center;top:0;bottom:0;height:calc(100% - 64px)}.lista[_ngcontent-%COMP%]{width:100%;display:grid;grid-gap:8px}.item-carrinho[_ngcontent-%COMP%]{display:grid;grid-gap:4px;grid-template-columns:115px auto 40px;height:auto}.item-carrinho[_ngcontent-%COMP%]:not(:first-child){border-top:1px solid #c4c4c4}.quantidade-produto[_ngcontent-%COMP%]{display:grid;align-items:center;grid-template-columns:40px 35px 40px}.rotulo-quantidade-produto[_ngcontent-%COMP%]{display:grid;align-items:center;width:35px;height:100%}.nome-produto[_ngcontent-%COMP%]{font-size:14px;font-weight:600px}.nome-produto[_ngcontent-%COMP%], .remover-produto[_ngcontent-%COMP%]{display:grid;align-items:center}.remover-produto[_ngcontent-%COMP%]{height:100%}.botao-item[_ngcontent-%COMP%]{width:40px}.quantidade-produto[_ngcontent-%COMP%]{max-width:35px;min-width:35px;text-align:center}\"]}),t})()}];let S=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},imports:[[y.d.forChild(j)],y.d]}),t})(),G=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},imports:[[o.b,y.d,h.b]]}),t})(),I=(()=>{class t{}return t.\\u0275mod=i.Hb({type:t}),t.\\u0275inj=i.Gb({factory:function(n){return new(n||t)},imports:[[o.b,S,y.d,l,b,m,p.b,h.b,G,f.d,v,O.b]]}),t})()}}]);","extractedComments":[]}