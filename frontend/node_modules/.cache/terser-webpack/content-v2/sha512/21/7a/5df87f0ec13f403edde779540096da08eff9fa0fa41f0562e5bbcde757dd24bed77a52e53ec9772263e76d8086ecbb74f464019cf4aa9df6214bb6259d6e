{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{zKAn:function(o,t,n){\"use strict\";n.r(t),n.d(t,\"ProdutoModule\",(function(){return M}));var r=n(\"ofXK\"),i=n(\"tyNb\"),a=n(\"mrSG\"),e=n(\"fXoL\"),c=n(\"dNgK\"),d=n(\"eiZ/\"),u=n(\"rbjm\"),s=n(\"bTqV\"),l=n(\"NFeN\"),b=n(\"Wp6s\"),p=n(\"/EAn\"),g=n(\"br9W\");function m(o,t){if(1&o&&(e.Ob(0,\"h3\"),e.oc(1),e.Nb()),2&o){const o=e.Wb(3);e.zb(1),e.pc(o.erro)}}function f(o,t){1&o&&(e.Ob(0,\"div\"),e.oc(1,\"Carregando...\"),e.Nb())}function h(o,t){if(1&o){const o=e.Pb();e.Ob(0,\"div\"),e.Ob(1,\"div\",13),e.oc(2),e.Nb(),e.Ob(3,\"div\",14),e.oc(4),e.Nb(),e.Ob(5,\"div\",15),e.oc(6),e.Xb(7,\"brl\"),e.Nb(),e.Ob(8,\"div\",16),e.oc(9),e.Nb(),e.Ob(10,\"div\",17),e.oc(11),e.Nb(),e.Ob(12,\"button\",18),e.Ub(\"click\",(function(){return e.fc(o),e.Wb(2).comprar()})),e.oc(13),e.Nb(),e.nc(14,m,2,1,\"h3\",12),e.nc(15,f,2,0,\"div\",12),e.Nb()}if(2&o){const o=e.Wb(2);e.zb(2),e.pc(null==o.produto?null:o.produto.nome),e.zb(2),e.qc(\"C\\xf3d. #\",null==o.produto?null:o.produto.id,\"\"),e.zb(2),e.pc(e.Yb(7,9,null==o.produto?null:o.produto.preco)),e.zb(3),e.qc(\"Estoque: \",null==o.produto?null:o.produto.quantidadeEstoque,\"\"),e.zb(2),e.qc(\" \",null==o.produto?null:o.produto.descricao,\" \"),e.zb(1),e.bc(\"disabled\",!(null!=o.produto&&o.produto.quantidadeEstoque)),e.zb(1),e.qc(\" \",null!=o.produto&&o.produto.quantidadeEstoque?\"Comprar\":\"Produto indispon\\xedvel\",\" \"),e.zb(1),e.bc(\"ngIf\",o.erro&&!o.carregando),e.zb(1),e.bc(\"ngIf\",o.carregando)}}function v(o,t){if(1&o){const o=e.Pb();e.Ob(0,\"div\",1),e.Ob(1,\"div\",2),e.Ob(2,\"div\",3),e.Ob(3,\"button\",4),e.Ub(\"click\",(function(){return e.fc(o),e.Wb().voltar()})),e.Ob(4,\"mat-icon\"),e.oc(5,\"arrow_backward\"),e.Nb(),e.oc(6,\" Voltar \"),e.Nb(),e.Nb(),e.Ob(7,\"mat-card\",5),e.Ob(8,\"div\",6),e.Ob(9,\"button\",7),e.Ub(\"click\",(function(){return e.fc(o),e.Wb().selecionarImagem(-1)})),e.Ob(10,\"mat-icon\"),e.oc(11,\"arrow_backward\"),e.Nb(),e.Nb(),e.Ob(12,\"button\",8),e.Ub(\"click\",(function(){return e.fc(o),e.Wb().selecionarImagem(1)})),e.Ob(13,\"mat-icon\"),e.oc(14,\"arrow_forward\"),e.Nb(),e.Nb(),e.Ob(15,\"div\",9),e.Kb(16,\"img\",10),e.Xb(17,\"assetsDir\"),e.Nb(),e.Nb(),e.Ob(18,\"div\",11),e.nc(19,h,16,11,\"div\",12),e.Nb(),e.Nb(),e.Nb(),e.Nb()}if(2&o){const o=e.Wb();e.zb(16),e.bc(\"src\",e.Yb(17,2,o.imagemSelecionada),e.gc),e.zb(3),e.bc(\"ngIf\",!o.erro&&!o.carregando)}}const O=[{path:\"\",component:(()=>{class o{constructor(o,t,n,r,i,a){this.snackBar=o,this.location=t,this.router=n,this.route=r,this.carrinhoService=i,this.produtoService=a,this.quantidade=1,this.carregando=!1}ngOnInit(){this.produtoId=this.route.snapshot.paramMap.get(\"produtoId\"),this.buscarProduto()}buscarProduto(){var o,t;return Object(a.a)(this,void 0,void 0,(function*(){this.carrinhoService.getCarrinho(),this.carregando=!0;try{this.produto=yield this.produtoService.getProdutoApi(this.produtoId),this.imagemSelecionada=(null===(t=null===(o=this.produto)||void 0===o?void 0:o.imagens)||void 0===t?void 0:t.length)?this.produto.imagens[0]:null,this.erro=null}catch(n){this.erro=\"Falha ao buscar produto.\"}this.carregando=!1}))}comprar(){var o;return Object(a.a)(this,void 0,void 0,(function*(){if(this.produto){try{yield this.carrinhoService.adicionarProduto(this.produto.id,1),this.carregando=!1,this.router.navigate([\"/carrinho\"])}catch(t){let n=(null===(o=null==t?void 0:t.error)||void 0===o?void 0:o.message)||\"Falha ao comprar.\";this.erro=n,this.mostrarMensagem(n)}this.carregando=!1}}))}voltar(){this.location.back()}mostrarMensagem(o){this.snackBar.open(o,\"Ok\",{duration:5e3})}selecionarImagem(o){var t,n,r,i;let a=null===(n=null===(t=this.produto)||void 0===t?void 0:t.imagens)||void 0===n?void 0:n.findIndex(o=>o==this.imagemSelecionada),e=(null===(i=null===(r=this.produto)||void 0===r?void 0:r.imagens)||void 0===i?void 0:i.length)||0;if(e){o<0?a<=0?a=e-1:a--:o>0&&(a<=e-2?a++:a=0);try{this.imagemSelecionada=this.produto.imagens[a]}catch(c){}}}}return o.\\u0275fac=function(t){return new(t||o)(e.Jb(c.a),e.Jb(r.f),e.Jb(i.b),e.Jb(i.a),e.Jb(d.a),e.Jb(u.a))},o.\\u0275cmp=e.Db({type:o,selectors:[[\"app-produto\"]],decls:1,vars:1,consts:[[\"margin\",\"\",\"class\",\"container\",4,\"ngIf\"],[\"margin\",\"\",1,\"container\"],[1,\"content-wrapper\"],[\"margin-v\",\"\"],[\"mat-button\",\"\",\"fill-width\",\"\",3,\"click\"],[1,\"card-produto\"],[\"padding\",\"\",1,\"galeria-produto\"],[\"mat-icon-button\",\"\",\"mat-mini-fab\",\"\",\"aria-label\",\"Imagem anterior\",\"color\",\"accent\",1,\"botao-carrosel\",\"voltar\",3,\"click\"],[\"mat-icon-button\",\"\",\"mat-mini-fab\",\"\",\"aria-label\",\"Pr\\xf3xima imagem\",\"color\",\"accent\",1,\"botao-carrosel\",\"avancar\",3,\"click\"],[1,\"image-wrapper\"],[1,\"imagem-selecionada\",3,\"src\"],[1,\"dados-produto\"],[4,\"ngIf\"],[\"padding-v\",\"\",1,\"nome-produto\"],[\"padding-v\",\"\",1,\"codigo-produto\"],[\"padding-v\",\"\",1,\"preco-produto\"],[\"padding-v\",\"\",1,\"esqoque-produto\"],[\"padding-v\",\"\",1,\"descricao-produto\"],[\"mat-flat-button\",\"\",\"color\",\"accent\",1,\"botao-comprar\",3,\"disabled\",\"click\"]],template:function(o,t){1&o&&e.nc(0,v,20,4,\"div\",0),2&o&&e.bc(\"ngIf\",!t.erro&&!t.carregando&&t.produto)},directives:[r.i,s.a,l.a,b.a],pipes:[p.a,g.a],styles:[\".container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}@media only screen and (min-width:800px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr 4fr 1fr}.container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{grid-column:2}}@media only screen and (min-width:1200px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr 3fr 1fr}.container[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{grid-column:2}}.card-produto[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:.5rem}@media only screen and (min-width:600px){.card-produto[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-rows:1fr}}@media only screen and (min-width:1000px){.card-produto[_ngcontent-%COMP%]{grid-template-columns:2fr 1fr}}.galeria-produto[_ngcontent-%COMP%]{position:relative}.galeria-produto[_ngcontent-%COMP%], .image-wrapper[_ngcontent-%COMP%]{justify-items:center;align-items:center}.image-wrapper[_ngcontent-%COMP%]{display:grid;height:100%}.imagem-selecionada[_ngcontent-%COMP%]{width:90%;margin-left:8px}.botao-carrosel.voltar[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 24px);left:8px}.botao-carrosel.avancar[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 24px);right:8px}.nome-produto[_ngcontent-%COMP%]{font-size:22px;font-weight:400}.codigo-produto[_ngcontent-%COMP%]{font-size:16px;font-weight:100}.preco-produto[_ngcontent-%COMP%]{font-size:36px;font-weight:400}.estoque-produto[_ngcontent-%COMP%]{font-size:16px;font-weight:400}.descricao-produto[_ngcontent-%COMP%]{font-size:16px;font-weight:300;text-align:justify;text-justify:inter-word}.botao-comprar[_ngcontent-%COMP%]{width:100%}\"]}),o})()}];let w=(()=>{class o{}return o.\\u0275mod=e.Hb({type:o}),o.\\u0275inj=e.Gb({factory:function(t){return new(t||o)},imports:[[i.d.forChild(O)],i.d]}),o})();var P=n(\"420x\"),C=n(\"UURS\");let M=(()=>{class o{}return o.\\u0275mod=e.Hb({type:o}),o.\\u0275inj=e.Gb({factory:function(t){return new(t||o)},imports:[[r.b,w,i.d,P.a,s.b,l.b,b.d,C.a,c.b]]}),o})()}}]);","extractedComments":[]}